// Comando para formatear este documento:
// npx prisma format

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id      Int      @id @default(autoincrement())
  email   String   @unique
  name    String?
  profile Profile?
}

model Profile {
  id     Int     @id @default(autoincrement())
  bio    String?
  user   User    @relation(fields: [userId], references: [id])
  userId Int     @unique
}

model Apiario {
  id             Int          @id @default(autoincrement())
  nombre         String
  fecha_creacion DateTime     @default(now())
  latitud        Float
  longitud       Float
  direccion      String
  tipo_terreno   TipoTerreno
  tipo_ambiente  TipoAmbiente
  colmenas       Colmena[]
}

enum TipoTerreno {
  BOSQUE
  MONTANA
  CAMPO
  COSTA
  DESIERTO
  LLANURA
  OTRO
}

enum TipoAmbiente {
  RURAL
  SUBURBANO
  URBANO
}

model Colmena {
  id                          Int           @id @default(autoincrement())
  nombre                      String
  apiario                     Apiario       @relation(fields: [apiarioId], references: [id])
  apiarioId                   Int
  tipo                        TipoColmena
  datos_numero_deeps          String?
  datos_numero_supers         String?
  datos_total_cuadros         String?
  datos_color                 String?
  datos_origen                OrigenColmena?
  datos_fecha_establecimiento DateTime?
  reina_tipo                  TipoReina?
  reina_color                 String?
  reina_fecha_aceptacion      DateTime?
  reina_notas                 String?        @db.VarChar(200)
  foto1                       String?
  foto2                       String?
  foto3                       String?
}

enum TipoColmena {
  HORIZONTAL
  LANGSTROTH
  NUCLEO
  TOPBAR
  TRADICIONAL
  TRANSICIONAL
  WARRE
}

enum OrigenColmena {
  ENJAMBRE
  NUCLEO
  SPLIT
  OBTENIDO
}

enum TipoReina {
  LOCAL
  ITALIANA
  RUSA
  CARNIOLA
  CAUCASICA
  BUCKFAST
  ARPATIANA
}
